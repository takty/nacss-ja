{"version":3,"sources":["ja-kerning.js"],"names":["window","NS","hasClass","tar","cls","key","substr","startsWith","undefined","dataset","classList","contains","setClass","enabled","val","c","join","add","remove","removeKerning","elm","opts","s","Array","from","getElementsByTagName","styleKerning","df","document","createDocumentFragment","childNodes","appendChild","parentNode","replaceChild","kernElement","dict","nodeType","styleDisabled","kernTextNode","tn","isHead","isTail","p","HTMLElement","pd","getComputedStyle","display","includes","isSiblingBlock","length","pp","isEnd","str","textContent","mzs","match","replace","removeHeadWhiteSpaces","removeTailWhiteSpaces","g1","d","g2","removeWhiteSpacesBetweenZenChars","nt","nextSibling","innerText","parentNext","ks","getKerning","doAssignAttribute","f","createFragment","n","greedy","isPreviousBlockGreedy","previousSibling","isBlock","tagName","trim","nextNodeText","assignAttr","strArray","ret","concat","l","i","c0","c1","a","has","push","k","Number","isInteger","createTextNode","slice","createElement","style","Set","addPairs","cs0","cs1","addSolos","head","h","applyKerning","ts","Object","assign","doDisableOnSelecting","t","removeEventListener","addEventListener","applyKerningToString"],"mappings":"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","file":"ja-kerning.min.js","sourcesContent":["/**\n *\n * Japanese Text - Kerning\n *\n * @author Takuto Yanagida\n * @version 2021-12-26\n *\n */\n\n\n'use strict';\n\nwindow['NACSS']       = window['NACSS']       || {};\nwindow['NACSS']['ja'] = window['NACSS']['ja'] || {};\n\n\n((NS) => {\n\n\t/**\n\t *\n\t * Style Class Utilities\n\t *\n\t * @author Takuto Yanagida\n\t * @version 2021-11-11\n\t *\n\t */\n\t\n\t\n\tfunction hasClass(tar, cls) {\n\t\tconst key = cls.substr(1);\n\t\tif (cls.startsWith(':')) {\n\t\t\treturn tar.dataset[key] !== undefined;\n\t\t} else {\n\t\t\treturn tar.classList.contains(key);\n\t\t}\n\t}\n\t\n\tfunction setClass(tar, cls, enabled = true, val = '') {\n\t\tconst key = cls.substr(1);\n\t\tif (cls.startsWith(':')) {\n\t\t\tif (enabled) {\n\t\t\t\ttar.dataset[key] = val;\n\t\t\t} else {\n\t\t\t\tdelete tar.dataset[key];\n\t\t\t}\n\t\t} else {\n\t\t\tconst c = [key, val].join('-');\n\t\t\tif (enabled) {\n\t\t\t\ttar.classList.add(c);\n\t\t\t} else {\n\t\t\t\ttar.classList.remove(c);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction getSelector(cls) {\n\t\tif (cls.startsWith(':')) {\n\t\t\treturn `*[data-${cls.substr(1).replace(/([A-Z])/g, c => '-' + c.charAt(0).toLowerCase())}]`;\n\t\t} else {\n\t\t\treturn `*${cls}`;\n\t\t}\n\t}\n\t\n\n\t/**\n\t *\n\t * Kerning\n\t *\n\t * @author Takuto Yanagida\n\t * @version 2021-12-26\n\t *\n\t */\n\t\n\t\n\tfunction apply(ts, opts = {}) {\n\t\tif (ts.length === 0) return;\n\t\n\t\topts = Object.assign({\n\t\t\tstyleKerning        : ':ncKern',\n\t\t\tstyleDisabled       : ':ncNoKerning',\n\t\t\tdoAssignAttribute   : true,\n\t\t\tdoDisableOnSelecting: true,\n\t\t}, opts);\n\t\n\t\tfor (const t of ts) {\n\t\t\tkernElement(t, dict, opts);\n\t\t\tif (opts['doAssignAttribute'] && opts['doDisableOnSelecting']) {\n\t\t\t\tconst f = () => {\n\t\t\t\t\tremoveKerning(t, opts);\n\t\t\t\t\tt.removeEventListener('selectstart', f);\n\t\t\t\t};\n\t\t\t\tt.addEventListener('selectstart', f);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction removeKerning(elm, opts) {\n\t\tfor (const s of Array.from(elm.getElementsByTagName('span'))) {\n\t\t\tif (hasClass(s, opts.styleKerning)) {\n\t\t\t\tconst df = document.createDocumentFragment();\n\t\t\t\tfor (const c of Array.from(s.childNodes)) {\n\t\t\t\t\tdf.appendChild(c);\n\t\t\t\t}\n\t\t\t\ts.parentNode.replaceChild(df, s);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction applyToString(str, opts = {}) {\n\t\topts = Object.assign({\n\t\t\tstyleKerning     : ':ncKern',\n\t\t\tstyleDisabled    : ':ncNoKerning',\n\t\t\tdoAssignAttribute: true,\n\t\t}, opts);\n\t\n\t\tconst ks = getKerning(str, dict, false, opts.doAssignAttribute);\n\t\tif (ks.length) {\n\t\t\treturn createFragment(str, ks, opts);\n\t\t}\n\t\treturn null;\n\t}\n\t\n\t\n\t// -----------------------------------------------------------------------------\n\t\n\t\n\tfunction kernElement(elm, dict, opts) {\n\t\tfor (const c of Array.from(elm.childNodes)) {\n\t\t\tif (c.nodeType === 1) {  // ELEMENT_NODE\n\t\t\t\tif (!hasClass(c, opts.styleDisabled)) kernElement(c, dict, opts);\n\t\t\t} else if (c.nodeType === 3) {  // TEXT_NODE\n\t\t\t\tkernTextNode(c, dict, opts);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction kernTextNode(tn, dict, opts) {\n\t\tconst [isHead, isTail] = isEnd(tn);\n\t\n\t\tlet str = tn.textContent;\n\t\tif (isHead) str = removeHeadWhiteSpaces(str);\n\t\tif (isTail) str = removeTailWhiteSpaces(str);\n\t\tstr = removeWhiteSpacesBetweenZenChars(str);\n\t\n\t\tlet nt = '';\n\t\tif (tn.nextSibling && tn.nextSibling.nodeType === 1 && getComputedStyle(tn.nextSibling).display === 'inline') {\n\t\t\tnt = tn.nextSibling.innerText;\n\t\t}\n\t\tif (!tn.nextSibling && tn.parentNode.nextSibling) {\n\t\t\tconst parentNext = tn.parentNode.nextSibling;\n\t\t\tif (parentNext.nodeType === 1) {  // ELEMENT_NODE\n\t\t\t\tconst pnd = getComputedStyle(parentNext).display;\n\t\t\t\tif (pnd.includes('inline')) {\n\t\t\t\t\tnt = parentNext.innerText;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (parentNext.nodeType === 3) {  // TEXT_NODE\n\t\t\t\tnt = parentNext.textContent;\n\t\t\t}\n\t\t}\n\t\n\t\tconst ks = getKerning(str, dict, isHead, nt, opts.doAssignAttribute);\n\t\tif (ks.length) {\n\t\t\tconst f = createFragment(str, ks, opts);\n\t\t\ttn.parentNode.replaceChild(f, tn);\n\t\t}\n\t}\n\t\n\tfunction isEnd(tn) {\n\t\tconst p = tn.parentNode;\n\t\tif (!(p instanceof HTMLElement)) return [false, false];\n\t\tconst pd = getComputedStyle(p).display;\n\t\tif (!pd.includes('inline')) {  // Block\n\t\t\treturn isSiblingBlock(tn);\n\t\t}\n\t\tif (pd === 'inline-block') {  // Inline block\n\t\t\tif (p.childNodes.length !== 1) {  // The parent has multiple nodes.\n\t\t\t\treturn isSiblingBlock(tn);\n\t\t\t}\n\t\t\tconst pp = p.parentNode;\n\t\t\tif (pp) {\n\t\t\t\tconst ppd = getComputedStyle(pp).display;\n\t\t\t\tif (!ppd.includes('inline')) {\n\t\t\t\t\treturn isSiblingBlock(p, true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn [false, false];  // Not inline block\n\t}\n\t\n\tfunction isSiblingBlock(n, greedy = false) {\n\t\treturn [greedy ? isPreviousBlockGreedy(n.previousSibling) : isBlock(n.previousSibling), isBlock(n.nextSibling)];\n\t}\n\t\n\tfunction isBlock(n) {\n\t\tif (n === null) return true;\n\t\tif (!(n instanceof HTMLElement)) return false;\n\t\tif (n.tagName === 'BR') return true;\n\t\treturn !getComputedStyle(n).display.includes('inline');\n\t}\n\t\n\tfunction isPreviousBlockGreedy(n) {\n\t\twhile (true) {\n\t\t\tif (n === null) return true;\n\t\t\tif (n.nodeType === 1) {\n\t\t\t\tif (n.tagName === 'BR') return true;\n\t\t\t\treturn !getComputedStyle(n).display.includes('inline');\n\t\t\t}\n\t\t\tif (n.nodeType === 3) {\n\t\t\t\tif (!n.textContent.trim()) return true;\n\t\t\t}\n\t\t\tn = n.previousSibling;\n\t\t}\n\t}\n\t\n\t\n\t// -----------------------------------------------------------------------------\n\t\n\t\n\tfunction getKerning(str, dict, isHead, nextNodeText, assignAttr) {\n\t\tlet strArray = Array.from(str);\n\t\tconst ret = [];\n\t\n\t\tif (nextNodeText.length) {\n\t\t\tstrArray = strArray.concat(Array.from(nextNodeText));\n\t\t}\n\t\tlet l = 0;\n\t\n\t\tfor (let i = 0; i < strArray.length; i += 1) {\n\t\t\tconst c0 = strArray[i];\n\t\t\tconst c1 = strArray[i + 1];\n\t\n\t\t\tlet a = '';\n\t\t\tif (c0 !== '' && c1 !== '' && dict.has(c0 + c1)) {\n\t\t\t\ta = assignAttr ? 's' : 'letter-spacing:-0.4em;';\n\t\t\t}\n\t\t\tif (i === 0 && isHead && c0 !== '' && dict.has(c0)) {\n\t\t\t\ta += assignAttr ? 'h' : 'margin-left:-0.4em';\n\t\t\t}\n\t\t\tif (a.length) {\n\t\t\t\tif (l) {\n\t\t\t\t\tret.push(l);\n\t\t\t\t\tl = 0;\n\t\t\t\t}\n\t\t\t\tret.push(a);\n\t\t\t} else {\n\t\t\t\tl += 1;\n\t\t\t}\n\t\t}\n\t\tif (ret.length && l) ret.push(l);\n\t\treturn ret;\n\t}\n\t\n\tfunction createFragment(str, ks, opts) {\n\t\tconst strArray = Array.from(str);\n\t\tconst f = document.createDocumentFragment();\n\t\tlet i = 0;\n\t\tfor (const k of ks) {\n\t\t\tif (Number.isInteger(k)) {\n\t\t\t\tconst n = document.createTextNode(strArray.slice(i, i + k).join(''));\n\t\t\t\tf.appendChild(n);\n\t\t\t\ti += k;\n\t\t\t} else {\n\t\t\t\tconst n = document.createElement('span');\n\t\t\t\tn.appendChild(document.createTextNode(strArray.slice(i, i + 1).join('')));\n\t\t\t\tif (k.length <= 2) {\n\t\t\t\t\tsetClass(n, opts.styleKerning, true, k);\n\t\t\t\t} else {\n\t\t\t\t\tn.style = k;\n\t\t\t\t}\n\t\t\t\tf.appendChild(n);\n\t\t\t\ti += 1;\n\t\t\t}\n\t\t}\n\t\treturn f;\n\t}\n\t\n\t\n\t// -----------------------------------------------------------------------------\n\t\n\t\n\tconst dict = new Set();\n\t{\n\t\taddPairs(dict, '、，。．・｜：　', '「『（［｛〈《【〔');\n\t\taddPairs(dict, '」』）］｝〉》】〕', '、，。．・｜：,.');\n\t\taddPairs(dict, '」』）］｝〉》】〕', '「『（［｛〈《【〔');\n\t\taddPairs(dict, '「『（［｛〈《【〔', '「『（［｛〈《【〔');\n\t\taddPairs(dict, '」』）］｝〉》】〕', '」』）］｝〉》】〕');\n\t\taddSolos(dict, '「『（［｛〈《【〔');\n\t\n\t\tfunction addPairs(dict, cs0, cs1) {\n\t\t\tfor (const c0 of cs0) {\n\t\t\t\tfor (const c1 of cs1) {\n\t\t\t\t\tdict.add(c0 + c1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\tfunction addSolos(dict, head) {\n\t\t\tfor (const h of head) {\n\t\t\t\tdict.add(h);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tNS.applyKerning         = apply;\n\tNS.applyKerningToString = applyToString;\n\n\t/**\n\t *\n\t * Common Functions\n\t *\n\t * @author Takuto Yanagida\n\t * @version 2021-11-03\n\t *\n\t */\n\t\n\t\n\tfunction removeHeadWhiteSpaces(str) {\n\t\tconst mzs = str.match(/^[\\n\\r\\t ]*(\\u3000*)/);\n\t\tconst zs = (mzs && 1 < mzs.length) ? mzs[1] : '';\n\t\treturn zs + str.replace(/^\\s+/g, '');  // Trim left\n\t}\n\t\n\tfunction removeTailWhiteSpaces(str) {\n\t\treturn str.replace(/\\s+$/g, '');  // Trim right\n\t}\n\t\n\tfunction removeWhiteSpacesBetweenZenChars(str) {\n\t\t// White space character class excluding \\u3000\n\t\t// [ \\f\\n\\r\\t\\v​\\u00a0​\\u180e\\u2000​-\\u200a​\\u2028\\u2029\\u202f\\u205f​\\ufeff]\n\t\treturn str.replace(/([^\\x01-\\x7E\\xA1-\\xDF]+)([\\t\\n]+|[ \\f\\n\\r\\t\\v\\u00a0\\u180e\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\ufeff]{2})([^\\x01-\\x7E\\xA1-\\xDF]+)/g, (match, g1, d, g2) => g1 + g2);\n\t}\n\t\n\n})(window['NACSS']['ja']);\n"]}